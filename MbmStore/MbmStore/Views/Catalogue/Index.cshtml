@using MbmStore.Models;

@{
    ViewBag.Title = "Catalogue";
}


<h2>Books</h2>
<div class="container">
    <div class="row">
        @foreach (Product product in ViewBag.Products)
        {
            if (product is Book)
            {
                Book book = (Book)product;

                <div class="card product" style="width: 18rem;">
                    <img src="/Content/Images/@book.ImageUrl" alt="@book.Title">
                    <div class="card-body">
                        <h5 class="card-title">@book.Title</h5>
                        <p class="card-text">Author: @book.Author</p>
                        <p class="card-text">Price: @String.Format("{0:0.00}", book.Price)$</p>
                        <a href="#" class="btn btn-primary">Buy here!</a>
                    </div>
                </div>
            }
        }
    </div>
</div>

<h2>Movies</h2>
<div class="container">
    <div class="row">
        @foreach (Product product in ViewBag.Products)
        {
            if (product is Movie)
            {
                Movie movie = (Movie)product;
                <div class="card product" style="width: 18rem;">
                    <img src="/Content/Images/@movie.ImageUrl" alt="@movie.Title" />
                    <div class="card-body">
                        <strong>Title:</strong> @movie.Title<br />
                        Director: @movie.Director<br>
                        Price: @String.Format("{0:0.00}", movie.Price) <br /><br />
                        <a href="#" class="btn btn-primary">Buy here!</a>
                    </div>
                </div>
            }
        }

    </div>
</div>

<h2>The CDs</h2>
<div class="container">
    <div class="row">
        @foreach (Product product in ViewBag.Products)
        {
            if (product is MusicCD)
            {
                MusicCD musicCD = (MusicCD)product;
        <div class="card product" style="width: 18rem;">
            <img src="/Content/Images/@musicCD.ImageUrl" alt="@musicCD.Title" />
            <div class="card-body">
                <strong>Title:</strong> @musicCD.Title<br />
                <strong>Director:</strong> @musicCD.Artist<br>
                <strong>Price:</strong> @String.Format("{0:0.00}", musicCD.Price) <br /><br />


                @foreach (Track track in musicCD.Tracks)

                {

                    <ul>
                        <li> @track.Title (@track.Composer)    @track.Length.Minutes:@track.Length.Seconds </li>
                    </ul>
                }
                <p><strong>Total Playing Time:</strong> @musicCD.GetPlayingTime()</p>
            </div>
        </div>
            }
            }


        </div>
</div>







